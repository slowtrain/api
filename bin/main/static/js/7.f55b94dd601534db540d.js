webpackJsonp([7],{GFdC:function(t,e,i){"use strict";var s=i("ikxi"),a=i.n(s),l=i("UlOv"),r=l.f.reactiveProp;a.a.defaults.LineWithLine=a.a.defaults.line,a.a.controllers.LineWithLine=a.a.controllers.line.extend({draw:function(t){if(a.a.controllers.line.prototype.draw.call(this,t),this.chart.tooltip._active&&this.chart.tooltip._active.length){var e=this.chart.tooltip._active[0],i=this.chart.ctx,s=e.tooltipPosition().x,l=this.chart.scales["y-axis-0"].top,r=this.chart.scales["y-axis-0"].bottom;i.save(),i.beginPath(),i.moveTo(s,l),i.lineTo(s,r),i.lineWidth=1,i.strokeStyle="#07C",i.stroke(),i.restore()}}});var o={extends:Object(l.e)("custom-line","LineWithLine"),mixins:[r],props:["options"],data:function(){return{}},mounted:function(){this.renderChart(this.chartData,this.options)},watch:{options:function(){this.$data._chart.update(),this.renderChart(this.chartData,this.options)}}},n=i("VU/8")(o,null,!1,null,null,null);e.a=n.exports},L4Q4:function(t,e,i){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var s={name:"BIZSYSTEM_POPUP",props:["showDialogFlagProp"],data:function(){return{labels:{title:"",classstructureId:"",ciname:"",ciId:"",orgId:"",confirm:"",close:""},listGrid:{tableProps:{border:!1,stripe:!0,headerCellStyle:function(){return"font-family: sans-serif; font-size: 14px; color: #28313b; font-weight: bold; height:60px"}},currentPage:1,rowIndex:-1,pageProps:{pageSize:5,pageSizes:[5,10,15]},data:[],filters:[{prop:["ciId","classstructureNm","ciname","description","classstructureId"],value:""}],filteredData:[],titles:[{prop:"chk",label:"chk",width:"30px"},{prop:"ciId",width:"150px"},{prop:"classstructureNm",width:"150px"},{prop:"ciname",width:"150px"},{prop:"description",width:"200"},{prop:"classstructureId",width:"100"}],currentData:{},total:0},orgId:"",selectedItem:[],showDialogFlag:!1,rpaSelect:[],search:""}},watch:{showDialogFlagProp:function(t){(this.showDialogFlag=t,t)&&(this.listGrid.data.filter(function(t){return!0===t.chk}).forEach(function(t){t.chk=!1}),this.getListData())}},methods:{initialize:function(){this.$util.setLabels(this.$options.name,this.labels),this.orgId=this.$store.getters.getUser.orgId},destroy:function(){this.listGrid.filters[0].value="",this.search=""},setFilters:function(){this.listGrid.filters[0].value=this.search},getListData:function(){var t=this;this.listGrid.data=[],this.$http.get("/episode/api/e2e/biz").then(function(e){t.listGrid.data=e.data}).catch(function(t){console.log(t)})},selectGridRow:function(t){this.listGrid.data.filter(function(t){return!0===t.chk}).forEach(function(e){e.id!==t.id&&(e.chk=!1)}),this.selectedItem=t},confirm:function(){this.$emit("confirm",this.selectedItem)},close:function(){this.$emit("close")}},created:function(){this.initialize()}},a={render:function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("el-dialog",{attrs:{title:t.labels.title,visible:t.showDialogFlag,width:"700px"},on:{"update:visible":function(e){t.showDialogFlag=e},close:t.close}},[i("b-row",[i("b-col",[i("b-row",[i("b-col",{attrs:{sm:"12"}},[i("div",{staticClass:"search-component"},[i("input",{directives:[{name:"model",rawName:"v-model",value:t.search,expression:"search"}],staticClass:"form-control mt-1",attrs:{placeholder:t.labels.search},domProps:{value:t.search},on:{keyup:function(e){return!e.type.indexOf("key")&&t._k(e.keyCode,"enter",13,e.key,"Enter")?null:t.setFilters(e)},input:function(e){e.target.composing||(t.search=e.target.value)}}})])])],1),t._v(" "),i("b-row",[i("b-col",{attrs:{sm:"12"}},[i("p",{staticClass:"grid-line"}),t._v(" "),i("data-tables",{staticStyle:{width:"100%"},attrs:{layout:"table, pagination","table-props":t.listGrid.tableProps,"page-size":t.listGrid.pageProps.pageSize,data:t.listGrid.data,filters:t.listGrid.filters,"pagination-props":t.listGrid.pageProps}},[i("el-table-column",{attrs:{width:t.listGrid.titles[0].width},scopedSlots:t._u([{key:"default",fn:function(e){return[i("el-checkbox",{staticClass:"single",on:{change:function(i){return t.selectGridRow(e.row)}},model:{value:e.row.chk,callback:function(i){t.$set(e.row,"chk",i)},expression:"props.row.chk"}})]}}])}),t._v(" "),i("el-table-column",{attrs:{prop:t.listGrid.titles[1].prop,label:t.labels.ciId,sortable:"custom",width:t.listGrid.titles[3].width}}),t._v(" "),i("el-table-column",{attrs:{prop:t.listGrid.titles[2].prop,label:t.labels.classstructureId,sortable:"custom",width:t.listGrid.titles[1].width}}),t._v(" "),i("el-table-column",{attrs:{prop:t.listGrid.titles[3].prop,label:t.labels.ciname,sortable:"custom"}}),t._v(" "),i("el-table-column",{attrs:{prop:t.listGrid.titles[4].prop,label:t.labels.description,sortable:"custom"}})],1)],1)],1)],1)],1),t._v(" "),i("b-row",[i("div",{staticClass:"col mt-2"},[i("div",{staticClass:"d-flex justify-content-end"},[i("b-button",{staticClass:"px-3 sm",attrs:{variant:"primary"},on:{click:t.confirm}},[t._v(t._s(t.labels.confirm))]),t._v(" "),i("b-button",{staticClass:"px-3 sm",attrs:{variant:"primary"},on:{click:t.close}},[t._v(t._s(t.labels.close))])],1)])])],1)},staticRenderFns:[]},l=i("VU/8")(s,a,!1,null,null,null).exports,r={name:"E2ECHART",props:["ciId","rpa","seleteDate","labels"],components:{LineChart:i("GFdC").a},data:function(){return{qStyle:{height:"250px",width:"100%"},e2eChartFlag:!1,e2eData:{},e2eOption:{},chartColor:[],chartColor2:[]}},watch:{},methods:{initialize:function(){this.$util.isNull(this.ciId)||this.$util.isNull(this.rpa)||this.getE2EData(this.ciId,this.rpa)},getE2EData:function(t,e){var i=this;this.e2eChartFlag=!1,this.e2eData={};var s=this.$util.timestampDate(this.seleteDate[0]),a=this.$util.timestampDate(this.seleteDate[1]),l={params:{ciId:t,rpa:e.join(","),startDate:s,endDate:a}};this.$http.get("/episode/api/e2e/rpadata",l).then(function(t){i.chartMake(t.data)}).catch(function(t){console.log(t)})},dateTime:function(t){return this.$util.dateTime(t)},chartMake:function(t){var e=this;if(this.e2eChartFlag=!0,0!==t.length&&!this.$util.isNull(t[0])){this.$util.getRgba(t,this.chartColor,this.chartColor2);var i=[];t[0].origin.forEach(function(t){var e=t.substring(0,t.indexOf(".")),s=new Date(e);i.push(new Date(s))}),this.e2eData.labels=i,this.e2eData.datasets=[],t.forEach(function(t,i){var s=t.resptime,a={pointRadius:0};a.label=t.namekor,a.borderColor=e.chartColor[i],a.borderWidth=1.5,a.backgroundColor=e.chartColor2[i],a.data=s,e.e2eData.datasets.push(a)})}this.e2eOption={responsive:!0,maintainAspectRatio:!1,hover:{mode:"label",intersect:!0},tooltips:{intersect:!1,mode:"index"},scales:{showLines:!1,xAxes:[{type:"time",time:{min:new Date(this.seleteDate[0]),max:new Date(this.seleteDate[1])}}],yAxes:[{ticks:{min:0,callback:function(t){return t+" (s)"}},scaleLabel:{display:!0,labelString:this.labels.rpaRes}}]}}}},mounted:function(){this.initialize()},beforeDestroy:function(){this.e2eData={},this.e2eOption={},this.chartColor=[],this.chartColor2=[],this.$nextTick(function(){this.e2eChartFlag=!1})}},o={render:function(){var t=this.$createElement,e=this._self._c||t;return e("div",{staticClass:"animated fadeIn"},[e("b-row",[e("b-col",{attrs:{sm:"12"}},[this.e2eChartFlag?e("line-chart",{style:this.qStyle,attrs:{"chart-data":this.e2eData,options:this.e2eOption}}):this._e()],1)],1)],1)},staticRenderFns:[]},n={name:"E2E",components:{BizSystem:l,E2EChart:i("VU/8")(r,o,!1,null,null,null).exports},watch:{$route:function(){this.paramInit()}},data:function(){return{labels:{title:"",date:"",system:"",location:"",ciId:"",ciname:"",namekor:"",linebizresptime:"",robotresult:"",linebizstartDt:"",linebizendDt:"",name:"",type:"",description:"",confirm:"",close:"",search:"",noDataMessage:"",noLocationMessage:"",noSystemMessage:"",noDateMessage:"",linebizstep:"",robotDt:"",robotip:"",linebizresult:"",rpaRes:"",excelDownload:"",selectNullMsg:""},seleteDate:[new Date((new Date).setHours((new Date).getHours()-5)),new Date],selectedBiz:"",selectedBizName:"",rpaSelect:[],rpaList:[],searchParam:"",e2eChartFlag:!1,selectionFlag:!0,showRpaDialogFlag:!1,listGridFlag:!1,listGrid:{tableProps:{border:!1,stripe:!0,headerCellStyle:function(){return"font-family: sans-serif; font-size: 14px; color: #28313b; font-weight: bold; height:60px"}},currentPage:1,rowIndex:-1,pageProps:{pageSize:5,pageSizes:[5,10,15]},data:[],dataBak:[],filters:[{prop:["robotDt","ciId","ciname","robotip","namekor","robotresult","linebizstep","linebizresult","linebizstartDt","linebizendDt"],value:""},{prop:["selectedBiz"],value:""},{prop:["rpaList"],value:[]},{prop:["seleteDate"],value:""},{prop:["status"],value:""}],filteredData:[],titles:[{prop:"robotDt",width:"180px"},{prop:"ciId",width:"150px"},{prop:"ciname",width:"150px"},{prop:"robotip",width:"150px"},{prop:"namekor",width:"100px"},{prop:"robotresult",width:"150px"},{prop:"linebizstep",width:"150px"},{prop:"linebizresult",width:"150px"},{prop:"linebizstartDt",width:"180px"},{prop:"linebizendDt",width:"180px"}],columns:["robotDt","ciId","ciname","robotip","namekor","robotresult","linebizstep","linebizresult","linebizstartDt","linebizendDt"],columnNames:["robotDt","ciId","ciname","robotip","namekor","robotresult","linebizstep","linebizresult","linebizstartDt","linebizendDt"],currentData:{},total:0}}},props:{confirmResult:{type:Boolean}},computed:{},methods:{initialize:function(){this.$util.setLabels(this.$options.name,this.labels),this.getRpa(),this.selectedBiz="",this.selectedBizName="",this.rpaList=[],this.listGridFlag=!0},getRpa:function(){var t=this;this.$http.get("/episode/api/e2e/rpa").then(function(e){e.data.forEach(function(e){var i={};i.key=e.ciId,i.value=e.namekor,t.rpaSelect.push(i)})}).catch(function(t){console.log(t)})},enterSearch:function(){this.listGrid.currentPage=1,this.listGrid.filters[0].value=this.searchParam},setFilters:function(t){if(this.$util.isNull(this.seleteDate))this.$util.esmessage(this,"warn",this.labels.noDateMessage);else{if(""===this.selectedBiz)return this.$util.esmessage(this,"warn",this.labels.noSystemMessage),null;if(0===this.rpaList.length)return this.$util.esmessage(this,"warn",this.labels.noLocationMessage),null;this.listGrid.currentPage=1,this.listGrid.filters[1].value=this.selectedBiz,this.listGrid.filters[2].value=this.rpaList,this.listGrid.filters[3].value=this.seleteDate,t&&this.$refs.e2echart.initialize(),this.e2eChartFlag=!0}},getRpaList:function(t){var e=this,i=this.$util.timestampDate(this.seleteDate[0]),s=this.$util.timestampDate(this.seleteDate[1]),a=1,l=10,r="robotDt",o="descending",n="",c="",p="";this.$util.isNull(t)||(a=t.page,l=t.pageSize,null!=t.sort.prop&&(r=t.sort.prop,o=t.sort.order),n=t.filters[0].value.trim(),c=t.filters[1].value,p=t.filters[2].value);var h={params:{page:a,pageSize:l,orderBy:r,sort:o,searchParam:n,startDate:i,endDate:s,ciId:c,rpa:p.join(",")}};this.$http.get("/episode/api/e2e",h).then(function(t){e.listGrid.data=t.data.data,e.listGrid.total=t.data.total}).catch(function(t){console.log(t)})},handleFilteredData:function(t){this.listGrid.filteredData=t},openRpaDialog:function(){this.showRpaDialogFlag=!0},confirmRpa:function(t){0!==t.length?(this.showRpaDialogFlag=!1,this.selectedBiz=t.ciId,this.selectedBizName=t.ciname):this.$util.esmessage(this,"warn",this.labels.selectNullMsg)},closeRpaDialog:function(){this.$util.isNull(this.selectedBiz)&&(this.rpaList=[]),this.$refs.bizDialog.destroy(),this.showRpaDialogFlag=!1},exportFilter:function(){var t=this,e={params:{orderBy:"robotDt",sort:"descending",searchParam:this.listGrid.filters[0].value,startDate:this.$util.timestampDate(this.seleteDate[0]),endDate:this.$util.timestampDate(this.seleteDate[1]),ciId:this.listGrid.filters[1].value,rpa:this.listGrid.filters[2].value.join(",")}};this.$http.get("/episode/api/e2e?searchParam",e).then(function(e){var i=[{value:"robotDt",label:t.labels.robotDt},{value:"ciId",label:t.labels.ciId},{value:"ciname",label:t.labels.ciname},{value:"robotip",label:t.labels.robotip},{value:"namekor",label:t.labels.namekor},{value:"robotresult",label:t.labels.robotresult},{value:"linebizstep",label:t.labels.linebizstep},{value:"linebizresult",label:t.labels.linebizresult},{value:"linebizstartDt",label:t.labels.linebizstartDt},{value:"linebizendDt",label:t.labels.linebizendDt}];0!==e.data.total?t.$util.csvExport(e.data.data,i,t.listGrid.columnNames,"e2e"):t.$util.esmessage(t,"warn",t.labels.noDataMessage)}).catch(function(t){console.log(t)})},dateTime:function(t){return this.$util.dateTime(t)},paramInit:function(){var t=this;if(this.$util.isNull(this.$route.params.rpaData)){if(!this.$util.isNull(this.$route.params.bizId)){var e=new Date,i=new Date,s=new Date(e.getFullYear(),e.getMonth(),e.getDate()),a=new Date(s.setDate(s.getDate()-1)),l=new Date(i.getFullYear(),i.getMonth(),i.getDate());this.selectedBiz=this.$route.params.bizId,this.selectedBizName=this.$route.params.bizname,this.$route.params.rpaCiList.forEach(function(e){t.rpaList.push(e.ciId)}),this.seleteDate[0]=new Date(a),this.seleteDate[1]=new Date(l),this.setFilters(!1)}}else{var r=null,o=null;this.selectedBiz=this.$route.params.rpaData.biz,this.selectedBizName=this.$route.params.rpaData.ciname,this.rpaList.push(this.$route.params.rpaData.rpaCi);var n=this.$route.params.rpaData.time,c=this.$route.params.rpaData.time,p=n.substring(0,n.indexOf("."));r=new Date(p);var h=c.substring(0,c.indexOf("."));o=new Date(h),this.seleteDate[0]=new Date(r.setHours(r.getHours()-23)),this.seleteDate[1]=new Date(o.setHours(o.getHours()+1)),this.setFilters(!1)}}},created:function(){this.initialize(),this.paramInit()},beforeDestroy:function(){this.listGrid.data=[],this.seleteDate=[],this.rpaSelect=[],this.rpaList=[],this.labels={},this.$refs.e2echart.e2eData={},this.$refs.e2echart.e2eChartFlag=!1,this.$nextTick(function(){this.listGridFlag=!1})}},c={render:function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("div",{staticClass:"animated fadeIn"},[s("b-card",[s("b-row",[s("b-col",{attrs:{sm:"4"}},[s("el-form",{attrs:{"label-position":"top","label-width":"100px"}},[s("el-form-item",{attrs:{label:t.labels.date}},[s("div",{staticClass:"search-component"},[s("el-date-picker",{staticClass:"form-control mt-1",staticStyle:{width:"100%"},attrs:{type:"datetimerange",clearable:!1},model:{value:t.seleteDate,callback:function(e){t.seleteDate=e},expression:"seleteDate"}})],1)])],1)],1),t._v(" "),s("b-col",{attrs:{sm:"3"}},[s("el-form",{attrs:{"label-position":"top","label-width":"100px"}},[s("el-form-item",{attrs:{label:t.labels.system}},[s("div",{staticClass:"search-component"},[s("input",{directives:[{name:"model",rawName:"v-model",value:t.selectedBizName,expression:"selectedBizName"}],staticClass:"form-control mt-1",staticStyle:{"background-color":"white"},attrs:{readonly:""},domProps:{value:t.selectedBizName},on:{input:function(e){e.target.composing||(t.selectedBizName=e.target.value)}}}),t._v(" "),s("a",{staticClass:"search-button cursor-pointer",staticStyle:{top:"7px"},on:{click:t.openRpaDialog}},[t._v("search")])])])],1)],1),t._v(" "),s("b-col",{attrs:{sm:"3"}},[s("el-form",{attrs:{"label-position":"top","label-width":"100px"}},[s("el-form-item",{attrs:{label:t.labels.location}},[s("div",{staticClass:"search-component"},[s("div",{staticClass:"eselect"},[s("el-select",{staticStyle:{width:"100%"},attrs:{multiple:"multiple","collapse-tags":"",placeholder:"SELECT"},model:{value:t.rpaList,callback:function(e){t.rpaList=e},expression:"rpaList"}},t._l(t.rpaSelect,function(t){return s("el-option",{key:t.key,attrs:{label:t.value,value:t.key}})}),1)],1)])])],1)],1),t._v(" "),s("b-col",{attrs:{sm:"2"}},[s("div",{staticStyle:{"margin-top":"40px"}},[s("b-button",{staticClass:"px-3 sm",staticStyle:{backgroundColor:"white",color:"#606266","font-weight":"bolder"},on:{click:function(e){return t.setFilters(!0)}}},[t._v(t._s(this.labels.search))])],1)])],1),t._v(" "),s("b-row",[s("b-col",{attrs:{sm:"12"}},[s("p",{staticClass:"chart-line"}),t._v(" "),s("E2EChart",{ref:"e2echart",attrs:{ciId:t.selectedBiz,rpa:t.rpaList,seleteDate:t.seleteDate,labels:t.labels}})],1)],1),t._v(" "),s("b-row",[s("b-col",{attrs:{sm:"12"}},[s("p",{staticClass:"chart-line"}),t._v(" "),s("b-row",[s("b-col",{attrs:{sm:"6"}},[s("div",{staticClass:"search-component"},[s("input",{directives:[{name:"model",rawName:"v-model",value:t.searchParam,expression:"searchParam"}],staticClass:"form-control mt-1",staticStyle:{width:"80%"},attrs:{placeholder:t.labels.search},domProps:{value:t.searchParam},on:{keyup:function(e){return!e.type.indexOf("key")&&t._k(e.keyCode,"enter",13,e.key,"Enter")?null:t.enterSearch(e)},input:function(e){e.target.composing||(t.searchParam=e.target.value)}}})])]),t._v(" "),s("b-col",{attrs:{sm:"6"}},[s("div",{staticClass:"float-right mb-1",attrs:{role:"group"}},[s("el-button",{staticStyle:{padding:"0 0 0 0",width:"40px",height:"40px"},attrs:{title:t.labels.excelDownload},on:{click:t.exportFilter}},[s("img",{attrs:{src:i("QOY8"),width:"60%"}})])],1)])],1),t._v(" "),s("b-row",[s("b-col",{attrs:{sm:"12"}},[s("p",{staticClass:"grid-line"}),t._v(" "),t.listGridFlag?s("data-tables-server",{ref:"grid",attrs:{"current-page":t.listGrid.currentPage,"table-props":t.listGrid.tableProps,data:t.listGrid.data,filters:t.listGrid.filters,total:t.listGrid.total,"page-size":t.listGrid.pageProps.pageSize,"pagination-props":{pageSizes:[5,10,15]}},on:{"update:currentPage":function(e){return t.$set(t.listGrid,"currentPage",e)},"update:current-page":function(e){return t.$set(t.listGrid,"currentPage",e)},"query-change":t.getRpaList,"filtered-data":t.handleFilteredData}},[s("el-table-column",{attrs:{prop:t.listGrid.titles[0].prop,label:t.labels.linebizstartDt,sortable:"custom",width:t.listGrid.titles[0].width},scopedSlots:t._u([{key:"default",fn:function(e){return[t._v(t._s(t.dateTime(e.row.robotDt)))]}}],null,!1,3267830025)}),t._v(" "),s("el-table-column",{attrs:{prop:t.listGrid.titles[1].prop,label:t.labels.ciId,sortable:"custom",width:t.listGrid.titles[1].width}}),t._v(" "),s("el-table-column",{attrs:{prop:t.listGrid.titles[2].prop,label:t.labels.ciname,sortable:"custom",width:t.listGrid.titles[2].width}}),t._v(" "),s("el-table-column",{attrs:{prop:t.listGrid.titles[3].prop,label:t.labels.robotip,sortable:"custom",width:t.listGrid.titles[3].width}}),t._v(" "),s("el-table-column",{attrs:{prop:t.listGrid.titles[4].prop,label:t.labels.namekor,sortable:"custom",width:t.listGrid.titles[4].width}}),t._v(" "),s("el-table-column",{attrs:{prop:t.listGrid.titles[5].prop,label:t.labels.robotresult,sortable:"custom",width:t.listGrid.titles[5].width}}),t._v(" "),s("el-table-column",{attrs:{prop:t.listGrid.titles[6].prop,label:t.labels.linebizstep,sortable:"custom",width:t.listGrid.titles[6].width}}),t._v(" "),s("el-table-column",{attrs:{prop:t.listGrid.titles[7].prop,label:t.labels.linebizresult,sortable:"custom",width:t.listGrid.titles[7].width}}),t._v(" "),s("el-table-column",{attrs:{prop:t.listGrid.titles[8].prop,label:t.labels.linebizstartDt,sortable:"custom",width:t.listGrid.titles[8].width},scopedSlots:t._u([{key:"default",fn:function(e){return[t._v(t._s(t.dateTime(e.row.linebizstartDt)))]}}],null,!1,1273708114)}),t._v(" "),s("el-table-column",{attrs:{prop:t.listGrid.titles[9].prop,label:t.labels.linebizendDt,sortable:"custom",width:t.listGrid.titles[9].width},scopedSlots:t._u([{key:"default",fn:function(e){return[t._v(t._s(t.dateTime(e.row.linebizendDt)))]}}],null,!1,2842221597)})],1):t._e()],1)],1)],1)],1)],1),t._v(" "),s("BizSystem",{ref:"bizDialog",attrs:{showDialogFlagProp:t.showRpaDialogFlag},on:{confirm:t.confirmRpa,close:t.closeRpaDialog}})],1)},staticRenderFns:[]},p=i("VU/8")(n,c,!1,null,null,null);e.default=p.exports}});
//# sourceMappingURL=7.f55b94dd601534db540d.js.map