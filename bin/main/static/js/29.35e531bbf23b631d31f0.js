webpackJsonp([29],{"c+Md":function(t,a,e){"use strict";Object.defineProperty(a,"__esModule",{value:!0});var i={name:"COMPANY",data:function(){return{labels:{id:"",companyname:""},listGrid:{tableProps:{border:!1,stripe:!0,headerCellStyle:function(){return"font-family: sans-serif; font-size: 14px; color: #28313b; font-weight: bold; height:60px"}},currentPage:1,rowIndex:-1,pageProps:{pageSize:5,pageSizes:[10,15,20]},data:[],dataBak:[],filters:[{prop:["companyId","companyname","companydescription"],value:""}],filteredData:[],selection:[],titles:[{prop:"companyId",width:"100px"},{prop:"companyname",width:"150px"},{prop:"companydescription",width:"200px"},{prop:"companytypenm",width:"100px"},{prop:"companynum",width:"120px"},{prop:"companytel",width:"130px"},{prop:"ownername",width:"100px"}],currentData:{},total:0,srchCnd:null},auth:{showBtnSaveFlag:!1,showBtnDelFlag:!1},authorities:{COMPANY_ADD:!1,COMPANY_SAVE:!1,COMPANY_DELETE:!1},orgId:"",searchParam:"",showDetailDialogFlag:!1,listGridFlag:!1,companytypeSelect:[],validMsg:{companynameMsg:"",companytypeMsg:"",companytelMsg:"",companynumMsg:""}}},computed:{visibleAdd:function(){return this.authorities.COMPANY_ADD},visibleSave:function(){return this.authorities.COMPANY_SAVE},visibleDelete:function(){return this.authorities.COMPANY_DELETE}},watch:{showDetailDialogFlag:function(t){if(t)for(var a in this.validMsg)this.validMsg[a]=""},"listGrid.currentData.companyname":function(t){this.$util.isNull(t)||(this.validMsg.companynameMsg="")}},methods:{initialize:function(){var t=this;this.$util.setLabels(this.$options.name,this.labels),this.$store.getters.getAuth.forEach(function(a){t.authorities[a.authorityId]=!0}),this.orgId=this.$store.getters.getUser.orgId,this.listGridFlag=!0,this.getInitData()},isValidationCheck:function(){var t=!0;if(!this.$util.isNull(this.validMsg.companytelMsg))return!1;if(!this.$util.isNull(this.validMsg.companynumMsg))return!1;for(var a in this.validMsg)this.validMsg[a]="";var e=this.listGrid.currentData.companyname,i=this.listGrid.currentData.companytype;return this.$util.isNull(e)&&(this.validMsg.companynameMsg=this.labels.inputData,t=!1),this.$util.isNull(i)&&(this.validMsg.companytypeMsg=this.labels.inputData,t=!1),t},getInitData:function(){var t={obj:this,paramList:[{dataObj:"companytypeSelect",domainId:"COMPANYTYPE"}]};this.$util.getComboData(t)},getListData:function(t){var a=this;this.listGrid.srchCnd=t;var e=1,i=10,s="id",l="descending",r="";this.$util.isNull(t)||(e=t.page,i=t.pageSize,null!=t.sort.prop&&(s=t.sort.prop,l=t.sort.order),r=t.filters[0].value);var o={params:{page:e,pageSize:i,orderBy:s,sort:l,orgId:this.orgId,searchParam:r}};this.$http.get("/episode/api/asset/management/company",o).then(function(t){a.listGrid.data=t.data.data,a.listGrid.total=t.data.total}).catch(function(t){console.log(t)})},getRowData:function(t){var a=this;this.$http.get("/episode/api/asset/management/company/"+t).then(function(t){a.listGrid.currentData=t.data}).catch(function(t){console.log(t)})},save:function(){var t=this;if(this.isValidationCheck()){var a=this.listGrid.currentData.hasOwnProperty("id")?"PUT":"POST",e=this.listGrid.currentData.hasOwnProperty("id")?"/episode/api/asset/management/company/"+this.listGrid.currentData.id:"/episode/api/asset/management/company";"CHANGED"===this.listGrid.currentData.state||"ADDED"===this.listGrid.currentData.state?this.$http({method:a,url:e,data:this.listGrid.currentData}).then(function(a){t.$util.esmessage(t,"check",t.labels.saveMessage),t.showDialogFlag=!1,t.listGrid.filters[0].value="/",t.listGrid.filters[0].value=t.searchParam,t.getRowData(a.data.id)}).catch(function(a){t.$util.esmessage(t,"warn",t.labels.failMessage),console.log(a)}):this.showDetailDialogFlag=!1}},del:function(t){var a=this;this.$util.esconfirm(this,"delete",this.labels.confirmDelete,function(){a.$http.delete("/episode/api/asset/management/company/"+t.id).then(function(t){a.$util.esmessage(a,"delete",a.labels.deleteMessage),a.getListData()}).catch(function(t){a.$util.esmessage(a,"warn",a.labels.failMessage),console.log(t)})})},enterSearch:function(){this.listGrid.currentPage=1,this.searchType="NORMAL",this.listGrid.filters[0].value=this.searchParam},openDetailDialog:function(){var t=this;this.validMsg.companynameMsg="",this.validMsg.companytypeMsg="",this.showDetailDialogFlag=!0,this.$http.get("/episode/api/asset/management/company/companyId?orgId="+this.orgId).then(function(a){t.listGrid.currentData={orgId:t.orgId,companyId:a.data,companytype:"MNFCTR"}}).catch(function(t){console.log(t)})},closeDetailDialog:function(){this.showDetailDialogFlag=!1},clickGridRow:function(t){this.showDetailDialogFlag=!0,this.getRowData(t.id)},exportFilter:function(){var t=this,a=this.listGrid.filters[0].value;this.$http.get("/episode/api/asset/management/company?searchParam="+encodeURI(a)+"&searchType="+this.searchType).then(function(a){var e=[{value:"companyId",label:t.labels.id},{value:"companyname",label:t.labels.companyname},{value:"companydescription",label:t.labels.description},{value:"companytypenm",label:t.labels.companytype},{value:"companynum",label:t.labels.companynum},{value:"companytel",label:t.labels.companytel},{value:"ownername",label:t.labels.ownername}];t.$util.csvExport(a.data.data,e,t.listGrid.columnNames,"company")}).catch(function(t){console.log(t)})},changeValue:function(t){this.$util.isNull(t.id)?t.state="ADDED":t.state="CHANGED"},chkCompanyTel:function(){var t=this.listGrid.currentData.companytel;this.validMsg.companytelMsg="",/^\(?([0-9]{3})\)?[-. ]?([0-9]{4})[-. ]?([0-9]{4})$/.test(t)||this.$util.isNull(t)||(this.validMsg.companytelMsg=this.labels.companytelMsg)},chkCompanyNum:function(){var t=this.listGrid.currentData.companynum;this.validMsg.companynumMsg="",/^\(?([0-9]{3})\)?[-. ]?([0-9]{2})[-. ]?([0-9]{5})$/.test(t)||this.$util.isNull(t)||(this.validMsg.companynumMsg=this.labels.companynumMsg)}},created:function(){this.initialize()},beforeDestroy:function(){this.listGrid.data=[],this.labels={},this.authorities={},this.$nextTick(function(){this.listGridFlag=!1})}},s={render:function(){var t=this,a=t.$createElement,i=t._self._c||a;return i("div",{staticClass:"animated fadeIn"},[i("b-card",[i("b-row",[i("b-col",{attrs:{sm:"12"}},[i("div",{staticClass:"comm-btn-box",attrs:{role:"group"}},[i("b-button",{directives:[{name:"show",rawName:"v-show",value:t.visibleAdd,expression:"visibleAdd"}],staticClass:"px-3 sm",attrs:{variant:"primary"},on:{click:function(a){return t.openDetailDialog()}}},[t._v(t._s(t.labels.new))])],1)])],1),t._v(" "),i("p",{staticClass:"grid-line"}),t._v(" "),i("b-row",[i("b-col",{attrs:{sm:"6"}},[i("div",{staticClass:"search-component"},[i("input",{directives:[{name:"model",rawName:"v-model",value:t.searchParam,expression:"searchParam"}],staticClass:"form-control mt-2",staticStyle:{width:"80%"},attrs:{placeholder:t.labels.search},domProps:{value:t.searchParam},on:{keyup:function(a){return!a.type.indexOf("key")&&t._k(a.keyCode,"enter",13,a.key,"Enter")?null:t.enterSearch(a)},input:function(a){a.target.composing||(t.searchParam=a.target.value)}}})])]),t._v(" "),i("b-col",{attrs:{sm:"6"}},[i("div",{staticClass:"float-right mt-1 mb-1",attrs:{role:"group"}},[i("el-button",{staticStyle:{padding:"0 0 0 0",width:"40px",height:"40px"},attrs:{title:t.labels.excelDownload},on:{click:t.exportFilter}},[i("img",{attrs:{src:e("QOY8"),width:"60%"}})])],1)])],1),t._v(" "),i("b-row",[i("b-col",{attrs:{sm:"12"}},[i("p",{staticClass:"grid-line"}),t._v(" "),t.listGridFlag?i("data-tables-server",{ref:"grid",attrs:{"table-props":t.listGrid.tableProps,data:t.listGrid.data,filters:t.listGrid.filters,total:t.listGrid.total,"page-size":t.listGrid.pageProps.pageSize,"pagination-props":t.listGrid.pageProps,"current-page":t.listGrid.currentPage},on:{"query-change":t.getListData,"update:currentPage":function(a){return t.$set(t.listGrid,"currentPage",a)},"update:current-page":function(a){return t.$set(t.listGrid,"currentPage",a)}}},[i("el-table-column",{attrs:{prop:t.listGrid.titles[0].prop,label:t.labels.id,sortable:"custom",width:t.listGrid.titles[0].width}}),t._v(" "),i("el-table-column",{attrs:{prop:t.listGrid.titles[1].prop,label:t.labels.companyname,sortable:"custom",width:t.listGrid.titles[1].width}}),t._v(" "),i("el-table-column",{attrs:{prop:t.listGrid.titles[2].prop,label:t.labels.description,sortable:"custom"}}),t._v(" "),i("el-table-column",{attrs:{prop:t.listGrid.titles[3].prop,label:t.labels.companytype,sortable:"custom",width:t.listGrid.titles[3].width}}),t._v(" "),i("el-table-column",{attrs:{prop:t.listGrid.titles[4].prop,label:t.labels.companynum,sortable:"custom",width:t.listGrid.titles[4].width}}),t._v(" "),i("el-table-column",{attrs:{prop:t.listGrid.titles[5].prop,label:t.labels.companytel,sortable:"custom",width:t.listGrid.titles[5].width}}),t._v(" "),i("el-table-column",{attrs:{prop:t.listGrid.titles[6].prop,label:t.labels.ownername,sortable:"custom",width:t.listGrid.titles[6].width}}),t._v(" "),i("el-table-column",{attrs:{align:"right",width:"100"},scopedSlots:t._u([{key:"default",fn:function(a){return[i("el-button",{staticStyle:{padding:"0",width:"30px",height:"30px"},attrs:{title:t.labels.detail},on:{click:function(e){return t.clickGridRow(a.row)}}},[i("img",{attrs:{src:e("NDPK"),width:"60%"}})]),t._v(" "),i("el-button",{directives:[{name:"show",rawName:"v-show",value:t.visibleDelete,expression:"visibleDelete"}],staticStyle:{padding:"0",width:"30px",height:"30px"},attrs:{title:t.labels.delete},on:{click:function(e){return t.del(a.row)}}},[i("img",{attrs:{src:e("Z5mN"),width:"60%"}})])]}}],null,!1,1774786897)})],1):t._e()],1)],1)],1),t._v(" "),i("el-dialog",{attrs:{title:t.labels.detail,visible:t.showDetailDialogFlag,width:"800px"},on:{"update:visible":function(a){t.showDetailDialogFlag=a},close:t.closeDetailDialog}},[i("b-row",[i("div",{staticClass:"form-group col-md-3"},[i("label",{attrs:{for:"companyId"}},[t._v(t._s(t.labels.id))]),t._v(" "),i("div",{staticClass:"search-component sm"},[i("input",{directives:[{name:"model",rawName:"v-model",value:t.listGrid.currentData.companyId,expression:"listGrid.currentData.companyId"}],staticClass:"formdata sm",attrs:{id:"companyId",autocomplete:"off",disabled:"disabled"},domProps:{value:t.listGrid.currentData.companyId},on:{input:function(a){a.target.composing||t.$set(t.listGrid.currentData,"companyId",a.target.value)}}})])]),t._v(" "),i("div",{staticClass:"form-group col-md-9"},[i("label",{attrs:{for:"companyname"}},[t._v(t._s(t.labels.companyname)),i("span",{staticClass:"require-mark"},[t._v("*")])]),t._v(" "),i("div",{staticClass:"search-component sm"},[i("input",{directives:[{name:"model",rawName:"v-model",value:t.listGrid.currentData.companyname,expression:"listGrid.currentData.companyname"}],staticClass:"formdata sm",attrs:{id:"companyname",autocomplete:"off",maxlength:100},domProps:{value:t.listGrid.currentData.companyname},on:{change:function(a){return t.changeValue(t.listGrid.currentData)},input:function(a){a.target.composing||t.$set(t.listGrid.currentData,"companyname",a.target.value)}}}),t._v(" "),i("p",{directives:[{name:"show",rawName:"v-show",value:!t.$util.isNull(t.validMsg.companynameMsg),expression:"!$util.isNull(validMsg.companynameMsg)"}],staticClass:"form_some-copy sm error",domProps:{textContent:t._s(t.validMsg.companynameMsg)}})])])]),t._v(" "),i("b-row",[i("div",{staticClass:"form-group col-md-3"},[i("label",{attrs:{for:"companytype"}},[t._v(t._s(t.labels.companytype)),i("span",{staticClass:"require-mark"},[t._v("*")])]),t._v(" "),i("div",{staticClass:"search-component sm"},[i("el-select",{attrs:{placeholder:t.labels.selectData},on:{change:function(a){return t.changeValue(t.listGrid.currentData)}},model:{value:t.listGrid.currentData.companytype,callback:function(a){t.$set(t.listGrid.currentData,"companytype",a)},expression:"listGrid.currentData.companytype"}},t._l(t.companytypeSelect,function(t){return i("el-option",{key:t.key,attrs:{prop:t.key,value:t.key,label:t.value}})}),1),t._v(" "),i("p",{directives:[{name:"show",rawName:"v-show",value:!t.$util.isNull(t.validMsg.companytypeMsg),expression:"!$util.isNull(validMsg.companytypeMsg)"}],staticClass:"form_some-copy sm error",domProps:{textContent:t._s(t.validMsg.companytypeMsg)}})],1)]),t._v(" "),i("div",{staticClass:"form-group col-md-3"},[i("label",{attrs:{for:"companynum"}},[t._v(t._s(t.labels.companynum))]),t._v(" "),i("div",{staticClass:"search-component sm"},[i("input",{directives:[{name:"number",rawName:"v-number"},{name:"model",rawName:"v-model",value:t.listGrid.currentData.companynum,expression:"listGrid.currentData.companynum"}],staticClass:"formdata sm",attrs:{id:"companynum",autocomplete:"off",maxlength:10},domProps:{value:t.listGrid.currentData.companynum},on:{change:function(a){return t.changeValue(t.listGrid.currentData)},blur:t.chkCompanyNum,input:function(a){a.target.composing||t.$set(t.listGrid.currentData,"companynum",a.target.value)}}}),t._v(" "),i("p",{directives:[{name:"show",rawName:"v-show",value:!t.$util.isNull(t.validMsg.companynumMsg),expression:"!$util.isNull(validMsg.companynumMsg)"}],staticClass:"form_some-copy sm error",domProps:{textContent:t._s(t.validMsg.companynumMsg)}})])]),t._v(" "),i("div",{staticClass:"form-group col-md-3"},[i("label",{attrs:{for:"companytel"}},[t._v(t._s(t.labels.companytel))]),t._v(" "),i("div",{staticClass:"search-component sm"},[i("input",{directives:[{name:"number",rawName:"v-number"},{name:"model",rawName:"v-model",value:t.listGrid.currentData.companytel,expression:"listGrid.currentData.companytel"}],staticClass:"formdata sm",attrs:{id:"companytel",autocomplete:"off",maxlength:11},domProps:{value:t.listGrid.currentData.companytel},on:{change:function(a){return t.changeValue(t.listGrid.currentData)},blur:t.chkCompanyTel,input:function(a){a.target.composing||t.$set(t.listGrid.currentData,"companytel",a.target.value)}}}),t._v(" "),i("p",{directives:[{name:"show",rawName:"v-show",value:!t.$util.isNull(t.validMsg.companytelMsg),expression:"!$util.isNull(validMsg.companytelMsg)"}],staticClass:"form_some-copy sm error",domProps:{textContent:t._s(t.validMsg.companytelMsg)}})])]),t._v(" "),i("div",{staticClass:"form-group col-md-3"},[i("label",{attrs:{for:"ownername"}},[t._v(t._s(t.labels.ownername))]),t._v(" "),i("div",{staticClass:"search-component sm"},[i("input",{directives:[{name:"model",rawName:"v-model",value:t.listGrid.currentData.ownername,expression:"listGrid.currentData.ownername"}],staticClass:"formdata sm",attrs:{id:"ownername",autocomplete:"off",maxlength:20},domProps:{value:t.listGrid.currentData.ownername},on:{change:function(a){return t.changeValue(t.listGrid.currentData)},input:function(a){a.target.composing||t.$set(t.listGrid.currentData,"ownername",a.target.value)}}})])])]),t._v(" "),i("b-row",[i("div",{staticClass:"form-group col-md-12"},[i("label",{attrs:{for:"companydescription"}},[t._v(t._s(t.labels.description))]),t._v(" "),i("div",{staticClass:"search-component sm"},[i("input",{directives:[{name:"model",rawName:"v-model",value:t.listGrid.currentData.companydescription,expression:"listGrid.currentData.companydescription"}],staticClass:"formdata sm",attrs:{id:"companydescription",autocomplete:"off",maxlength:255},domProps:{value:t.listGrid.currentData.companydescription},on:{change:function(a){return t.changeValue(t.listGrid.currentData)},input:function(a){a.target.composing||t.$set(t.listGrid.currentData,"companydescription",a.target.value)}}})])])]),t._v(" "),i("b-row",[i("div",{staticClass:"form-group col-md-6"},[i("label",{attrs:{for:"application_createId"}},[t._v(t._s(t.labels.createNm))]),t._v(" "),i("input",{directives:[{name:"model",rawName:"v-model",value:t.listGrid.currentData.createNm,expression:"listGrid.currentData.createNm"}],staticClass:"formdata sm float-right",staticStyle:{width:"100%"},attrs:{id:"application_createId",placeholder:"CREATER",disabled:"disabled"},domProps:{value:t.listGrid.currentData.createNm},on:{input:function(a){a.target.composing||t.$set(t.listGrid.currentData,"createNm",a.target.value)}}})]),t._v(" "),i("div",{staticClass:"form-group col-md-6"},[i("label",{attrs:{for:"application_createDt"}},[t._v(t._s(t.labels.createDt))]),t._v(" "),i("input",{staticClass:"formdata sm float-right",staticStyle:{width:"100%"},attrs:{id:"application_createDt",placeholder:"CREATE DATE",disabled:"disabled"},domProps:{value:t.$util.dateTimeWithTimeZone(t.listGrid.currentData.createDt)}})])]),t._v(" "),i("b-row",[i("div",{staticClass:"form-group col-md-6"},[i("label",{attrs:{for:"application_updateId"}},[t._v(t._s(t.labels.updateNm))]),t._v(" "),i("input",{directives:[{name:"model",rawName:"v-model",value:t.listGrid.currentData.updateNm,expression:"listGrid.currentData.updateNm"}],staticClass:"formdata sm float-right",staticStyle:{width:"100%"},attrs:{id:"application_updateId",placeholder:"UPDATER",disabled:"disabled"},domProps:{value:t.listGrid.currentData.updateNm},on:{input:function(a){a.target.composing||t.$set(t.listGrid.currentData,"updateNm",a.target.value)}}})]),t._v(" "),i("div",{staticClass:"form-group col-md-6"},[i("label",[t._v(t._s(t.labels.updateDt))]),t._v(" "),i("input",{staticClass:"formdata sm float-right",staticStyle:{width:"100%"},attrs:{id:"application_updateDt",placeholder:"UPDATE DATE",disabled:"disabled"},domProps:{value:t.$util.dateTimeWithTimeZone(t.listGrid.currentData.updateDt)}})])]),t._v(" "),i("b-row",[i("div",{staticClass:"col mt-2"},[i("div",{staticClass:"d-flex justify-content-end"},[i("b-button",{directives:[{name:"show",rawName:"v-show",value:t.visibleSave,expression:"visibleSave"}],staticClass:"px-3 sm",attrs:{variant:"primary"},on:{click:t.save}},[t._v(t._s(t.labels.save))]),t._v(" "),i("b-button",{staticClass:"px-3 sm",attrs:{variant:"primary"},on:{click:t.closeDetailDialog}},[t._v(t._s(t.labels.close))])],1)])])],1)],1)},staticRenderFns:[]},l=e("VU/8")(i,s,!1,null,null,null);a.default=l.exports}});
//# sourceMappingURL=29.35e531bbf23b631d31f0.js.map