webpackJsonp([17],{oP63:function(t,e,a){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var i={name:"DOMAIN",data:function(){return{labels:{title:"",new:"",delete:"",list:"",detail:"",save:"",close:"",fail:"",domainIdMessage:"",descriptiondMessage:"",seqMessage:"",valueMessage:"",childDataExists:"",domainIdExists:"",keyExists:"",id:"",domainId:"",description:"",createDt:"",createId:"",updateDt:"",updateId:"",deleteMessage:"",saveMessage:"",search:"",keyMessage:"",excelDownload:"",valuelengthMessage:"",keylengthMessage:"",domainIdlengthMessage:""},listGrid:{currentPage:1,tableProps:{border:!1,stripe:!0,headerCellStyle:function(){return" font-family: sans-serif; font-size: 14px; color: #28313b; font-weight: bold; height:60px"},cekkStyle:""},pageProps:{pageSizes:[10,20,30]},rowIndex:-1,data:[],filters:[{prop:["domainId"],value:""}],filteredData:[],titles:[{prop:"id",label:"id",width:"100px"},{prop:"domainId",label:"domainId",width:"100px"},{prop:"description",label:"description",width:"100px"},{prop:"createDt",label:"createDt",width:"100px"},{prop:"createNm",label:"createId",width:"100px"},{prop:"updateDt",label:"updateDt",width:"100px"},{prop:"updateNm",label:"updateId",width:"100px"}],columns:["id","domainId","description","createDt","createId","updateDt","updateId"],columnNames:["id","domainId","description","createDt","createId","updateDt","updateId"],currentData:{},searchParam:""},detailGrid:{currentPage:1,tableProps:{border:!1,stripe:!0,headerCellStyle:function(){return" font-family: sans-serif; font-size: 14px; color: #28313b; font-weight: bold; height:60px"}},pageProps:{pageSizes:[10,20,30]},rowIndex:-1,data:[],filters:[{prop:["description"],value:""}],filteredData:[],titles:[{prop:"id",label:"id",width:"50px"},{prop:"domainId",label:"domainId",width:"100px"},{prop:"key",label:"key",width:"100px"},{prop:"value",label:"value",width:"100px"},{prop:"seq",label:"seq",width:"100px"},{prop:"description",label:"description",width:"50px"},{prop:"createDt",label:"createDt",width:"100px"},{prop:"createNm",label:"createId",width:"100px"},{prop:"updateDt",label:"updateDt",width:"100px"},{prop:"updateNm",label:"updateId",width:"100px"}],currentData:{}},authorities:{DOMAIN_ADD:!1,DOMAIN_SAVE:!1,DOMAIN_DELETE:!1,DOMAIN_DETAIL_ADD:!1,DOMAIN_DETAIL_SAVE:!1,DOMAIN_DETAIL_DELETE:!1},validMsg:{domainIdMsg:"",descriptionMsg:""},listGridFlag:!1,showDialogFlag:!1,validDomainFlag:!1}},watch:{"listGrid.currentData.domainId":function(t){this.listGrid.currentData.hasOwnProperty("id")||(this.listGrid.data.filter(function(e){return e.domainId===t}).length>0?this.validMsg.domainIdMsg=this.labels.domainIdExists:this.validMsg.domainIdMsg="")},"listGrid.currentData.description":function(t){this.$util.isNull(t)||(this.validMsg.descriptionMsg="")},showDialogFlag:function(t){this.validMsg.domainIdMsg="",this.validMsg.descriptionMsg=""}},computed:{disabledDomainId:function(){return this.listGrid.currentData.hasOwnProperty("id")},visibleAdd:function(){return this.authorities.DOMAIN_ADD},visibleSave:function(){return this.authorities.DOMAIN_SAVE},visibleDelete:function(){return this.authorities.DOMAIN_DELETE},visibleAddDetail:function(){return this.authorities.DOMAIN_DETAIL_ADD},visibleSaveDetail:function(){return this.authorities.DOMAIN_DETAIL_SAVE},visibleDeleteDetail:function(){return this.authorities.DOMAIN_DETAIL_DELETE}},methods:{initialize:function(){var t=this;this.$util.setLabels(this.$options.name,this.labels,this.listGrid.titles),this.$store.getters.getAuth.forEach(function(e){t.authorities[e.authorityId]=!0}),this.getListData(),this.listGridFlag=!0},getListData:function(){var t=this;this.$http.get("/episode/api/system/esdomain").then(function(e){t.listGrid.data=e.data}).catch(function(t){console.log(t)})},getDomainData:function(t){var e=this;this.$http.get("/episode/api/system/esdomain/"+t+"/domain").then(function(t){e.detailGrid.data=t.data}).catch(function(t){console.log(t)})},add:function(){this.showDialogFlag=!0,this.listGrid.currentData={state:"ADDED"},this.detailGrid.data=[]},isValidationCheck:function(){var t=!0;return this.$util.isNull(this.validMsg.domainIdMsg)||(t=!1),this.validMsg.descriptionMsg="",this.$util.isNull(this.listGrid.currentData.domainId)&&(this.validMsg.domainIdMsg=this.labels.domainIdMessage,t=!1),this.$util.isNull(this.listGrid.currentData.description)&&(this.validMsg.descriptionMsg=this.labels.descriptiondMessage,t=!1),t},save:function(){var t=this;if(this.isValidationCheck()){var e=this.saveDomain();if(this.validDomainFlag)return;var a=this.listGrid.currentData.hasOwnProperty("id")?"PUT":"POST",i=this.listGrid.currentData.hasOwnProperty("id")?"/episode/api/system/esdomain/"+this.listGrid.currentData.id:"/episode/api/system/esdomain";("CHANGED"===this.listGrid.currentData.state||"ADDED"===this.listGrid.currentData.state||e.length>0)&&(this.listGrid.currentData.domainList=e,this.$http({method:a,url:i,data:this.listGrid.currentData}).then(function(e){t.getListData(),t.listGrid.currentData=e.data,t.getDomainData(e.data.id),t.$util.esmessage(t,"check",t.labels.saveMessage)}).catch(function(e){t.$util.esmessage(t,"warn",t.labels.failMessage),console.log(e)}))}},del:function(t,e){var a=this;"ADDED"!==e.state?this.$http.get("/episode/api/system/esdomain/"+e.id+"/domain").then(function(t){t.data.length>0?a.$util.esmessage(a,"warn",a.labels.childDataExists):a.$http.delete("/episode/api/system/esdomain/"+e.id).then(function(t){a.getListData(),a.$util.esmessage(a,"delete",a.labels.deleteMessage)}).catch(function(t){a.$util.esmessage(a,"warn",a.labels.fail),console.log(t)})}).catch(function(t){a.$util.esmessage(a,"warn",a.labels.fail),console.log(t)}):this.listGrid.data.splice(t,1)},addDomain:function(){this.detailGrid.data.splice(0,0,{domainId:this.listGrid.currentData.domainId,state:"ADDED",seq:0})},saveDomain:function(){this.validDomainFlag=!1;for(var t=this.detailGrid.data.filter(function(t){return"ADDED"===t.state||"CHANGED"===t.state}),e=0;e<t.length;e++){if(this.$util.isNull(t[e].key))return this.$util.esmessage(this,"warn",this.labels.keyMessage),this.validDomainFlag=!0,[];if(this.$util.isNull(t[e].value))return this.$util.esmessage(this,"warn",this.labels.valueMessage),this.validDomainFlag=!0,[];if(this.$util.isNull(t[e].description))return this.$util.esmessage(this,"warn",this.labels.descriptiondMessage),this.validDomainFlag=!0,[];if(this.$util.isNull(t[e].seq))return this.$util.esmessage(this,"warn",this.labels.seqMessage),this.validDomainFlag=!0,[]}return t},delDomain:function(t,e){var a=this;"ADDED"!==e.state?this.$http.delete("/episode/api/system/esdomain/domain/"+e.id).then(function(e){a.detailGrid.data.splice(t,1),a.$util.esmessage(a,"delete",a.labels.deleteMessage)}).catch(function(t){a.$util.esmessage(a,"warn",a.labels.fail),console.log(t)}):this.detailGrid.data.splice(t,1)},openDomainDialog:function(t){this.showDialogFlag=!0,this.listGrid.currentData=t,this.getDomainData(t.id)},closeDomainDialog:function(){this.showDialogFlag=!1},exportFilter:function(){var t=[{value:"id",label:this.labels.id},{value:"domainId",label:this.labels.domainId},{value:"description",label:this.labels.description},{value:"createNm",label:this.labels.createId},{value:"createDt",label:this.labels.createDt}];this.$util.csvExport(this.listGrid.filteredData,t,this.listGrid.columnNames,"domain")},blurKey:function(t){this.detailGrid.data.filter(function(e){return e.key===t.key}).length>1&&(delete t.key,this.$util.esmessage(this,"warn",this.labels.keyExists))},changeValue:function(t){t.hasOwnProperty("id")?t.state="CHANGED":t.state="ADDED"},enterSearch:function(){this.listGrid.currentPage=1,this.listGrid.filters[0].value=this.listGrid.searchParam},handleFilteredData:function(t){this.listGrid.filteredData=t}},created:function(){this.initialize()},beforeDestroy:function(){this.listGrid.data=[],this.labels={},this.authorities={},this.validMsg={},this.$nextTick(function(){this.listGridFlag=!1})}},s={render:function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("div",{staticClass:"animated fadeIn"},[i("b-card",[i("b-row",[i("b-col",{attrs:{sm:"12"}},[i("b-row",[i("div",{staticClass:"col"},[i("div",{staticClass:"comm-btn-box",attrs:{role:"group"}},[i("b-button",{directives:[{name:"show",rawName:"v-show",value:t.visibleAdd,expression:"visibleAdd"}],staticClass:"px-3 sm",attrs:{variant:"primary"},on:{click:t.add}},[t._v(t._s(t.labels.new))])],1)])]),t._v(" "),i("p",{staticClass:"grid-line"}),t._v(" "),i("b-row",[i("div",{staticClass:"col-md-4",staticStyle:{"padding-top":"10px"}},[i("div",{staticClass:"search-component sm"},[i("input",{directives:[{name:"model",rawName:"v-model",value:t.listGrid.searchParam,expression:"listGrid.searchParam"}],staticClass:"form-control formdata sm",staticStyle:{width:"100%"},attrs:{placeholder:t.labels.search},domProps:{value:t.listGrid.searchParam},on:{keyup:function(e){return!e.type.indexOf("key")&&t._k(e.keyCode,"enter",13,e.key,"Enter")?null:t.enterSearch(e)},input:function(e){e.target.composing||t.$set(t.listGrid,"searchParam",e.target.value)}}})])]),t._v(" "),i("div",{staticClass:"col-md-8"},[i("div",{staticClass:"float-right mt-1",attrs:{role:"group"}},[i("el-button",{staticStyle:{padding:"0",width:"40px",height:"40px"},attrs:{title:t.labels.excelDownload},on:{click:t.exportFilter}},[i("img",{attrs:{src:a("QOY8"),width:"60%"}})])],1)])]),t._v(" "),i("b-row",[i("div",{staticClass:"col"},[i("p",{staticClass:"grid-line"}),t._v(" "),i("data-tables",{ref:"esdomainTable",attrs:{layout:"table, pagination","current-page":t.listGrid.currentPage,"table-props":t.listGrid.tableProps,data:t.listGrid.data,filters:t.listGrid.filters,"page-size":10,"pagination-props":t.listGrid.pageProps},on:{"update:currentPage":function(e){return t.$set(t.listGrid,"currentPage",e)},"update:current-page":function(e){return t.$set(t.listGrid,"currentPage",e)},"filtered-data":t.handleFilteredData}},[i("el-table-column",{attrs:{prop:"id",label:t.labels.id,width:"200",sortable:!0}}),t._v(" "),i("el-table-column",{attrs:{prop:"domainId",label:t.labels.domainId,width:"200",sortable:!0}}),t._v(" "),i("el-table-column",{attrs:{prop:"description",label:t.labels.description,width:"*",sortable:!0}}),t._v(" "),i("el-table-column",{attrs:{prop:"createDt",label:t.labels.createDt,width:"200",sortable:!0},scopedSlots:t._u([{key:"default",fn:function(e){return[t._v("\n                  "+t._s(t.$util.dateTimeWithTimeZone(e.row.createDt))+"\n                ")]}}])}),t._v(" "),i("el-table-column",{attrs:{prop:"createNm",label:t.labels.createId,width:"150",sortable:!0}}),t._v(" "),i("el-table-column",{attrs:{align:"right",width:"100"},scopedSlots:t._u([{key:"default",fn:function(e){return[i("el-button",{directives:[{name:"show",rawName:"v-show",value:e.row.hasOwnProperty("id"),expression:"props.row.hasOwnProperty('id')"}],staticStyle:{padding:"0",width:"30px",height:"30px"},attrs:{title:t.labels.detail},on:{click:function(a){return t.openDomainDialog(e.row)}}},[i("img",{attrs:{src:a("NDPK"),width:"60%"}})]),t._v(" "),i("el-button",{directives:[{name:"show",rawName:"v-show",value:t.visibleDelete,expression:"visibleDelete"}],staticStyle:{padding:"0",width:"30px",height:"30px"},attrs:{title:t.labels.delete},on:{click:function(a){return t.del(e.$index,e.row)}}},[i("img",{attrs:{src:a("Z5mN"),width:"60%"}})])]}}])})],1)],1)]),t._v(" "),i("el-dialog",{attrs:{title:t.labels.title,visible:t.showDialogFlag,width:"70%"},on:{"update:visible":function(e){t.showDialogFlag=e}}},[i("b-row",[i("div",{staticClass:"form-group col-md-6"},[i("label",{attrs:{for:"domain_id"}},[t._v(t._s(t.labels.domainId)),i("span",{staticClass:"require-mark"},[t._v("*")])]),t._v(" "),i("input",{directives:[{name:"model",rawName:"v-model",value:t.listGrid.currentData.domainId,expression:"listGrid.currentData.domainId"}],staticClass:"formdata sm float-right",staticStyle:{width:"100%"},attrs:{id:"domain_id",placeholder:t.labels.inputDataMsg,disabled:t.disabledDomainId},domProps:{value:t.listGrid.currentData.domainId},on:{change:function(e){return t.changeValue(t.listGrid.currentData)},input:function(e){e.target.composing||t.$set(t.listGrid.currentData,"domainId",e.target.value)}}}),t._v(" "),i("p",{directives:[{name:"show",rawName:"v-show",value:!t.$util.isNull(t.validMsg.domainIdMsg),expression:"!$util.isNull(validMsg.domainIdMsg)"}],staticClass:"form_some-copy sm error",domProps:{textContent:t._s(t.validMsg.domainIdMsg)}})]),t._v(" "),i("div",{staticClass:"form-group col-md-6"},[i("label",{attrs:{for:"domain_description"}},[t._v(t._s(t.labels.description)),i("span",{staticClass:"require-mark"},[t._v("*")])]),t._v(" "),i("input",{directives:[{name:"model",rawName:"v-model",value:t.listGrid.currentData.description,expression:"listGrid.currentData.description"}],staticClass:"formdata sm float-right",staticStyle:{width:"100%"},attrs:{id:"domain_description",placeholder:t.labels.inputDataMsg},domProps:{value:t.listGrid.currentData.description},on:{change:function(e){return t.changeValue(t.listGrid.currentData)},input:function(e){e.target.composing||t.$set(t.listGrid.currentData,"description",e.target.value)}}}),t._v(" "),i("p",{directives:[{name:"show",rawName:"v-show",value:!t.$util.isNull(t.validMsg.descriptionMsg),expression:"!$util.isNull(validMsg.descriptionMsg)"}],staticClass:"form_some-copy sm error",domProps:{textContent:t._s(t.validMsg.descriptionMsg)}})])]),t._v(" "),i("b-row",[i("div",{staticClass:"form-group col-md-3"},[i("label",{attrs:{for:"application_createId"}},[t._v(t._s(t.labels.createId))]),t._v(" "),i("input",{directives:[{name:"model",rawName:"v-model",value:t.listGrid.currentData.createNm,expression:"listGrid.currentData.createNm"}],staticClass:"formdata sm float-right",staticStyle:{width:"100%"},attrs:{id:"application_createId",placeholder:"CREATER",disabled:"disabled"},domProps:{value:t.listGrid.currentData.createNm},on:{input:function(e){e.target.composing||t.$set(t.listGrid.currentData,"createNm",e.target.value)}}})]),t._v(" "),i("div",{staticClass:"form-group col-md-3"},[i("label",{attrs:{for:"application_createDt"}},[t._v(t._s(t.labels.createDt))]),t._v(" "),i("input",{staticClass:"formdata sm float-right",staticStyle:{width:"100%"},attrs:{id:"application_createDt",placeholder:"CREATE DATE",disabled:"disabled"},domProps:{value:t.$util.dateTimeWithTimeZone(t.listGrid.currentData.createDt)}})]),t._v(" "),i("div",{staticClass:"form-group col-md-3"},[i("label",{attrs:{for:"application_updateId"}},[t._v(t._s(t.labels.updateId))]),t._v(" "),i("input",{directives:[{name:"model",rawName:"v-model",value:t.listGrid.currentData.updateNm,expression:"listGrid.currentData.updateNm"}],staticClass:"formdata sm float-right",staticStyle:{width:"100%"},attrs:{id:"application_updateId",placeholder:"UPDATER",disabled:"disabled"},domProps:{value:t.listGrid.currentData.updateNm},on:{input:function(e){e.target.composing||t.$set(t.listGrid.currentData,"updateNm",e.target.value)}}})]),t._v(" "),i("div",{staticClass:"form-group col-md-3"},[i("label",[t._v(t._s(t.labels.updateDt))]),t._v(" "),i("input",{staticClass:"formdata sm float-right",staticStyle:{width:"100%"},attrs:{id:"application_updateDt",placeholder:"UPDATE DATE",disabled:"disabled"},domProps:{value:t.$util.dateTimeWithTimeZone(t.listGrid.currentData.updateDt)}})])]),t._v(" "),i("p",{staticStyle:{border:"thin solid #dbdbe0","margin-top":"15px"}}),t._v(" "),i("b-row",[i("div",{staticClass:"form-group col-md-12"},[i("div",{staticClass:"float-right mt-2",attrs:{role:"group"}},[i("b-button",{directives:[{name:"show",rawName:"v-show",value:t.visibleAddDetail,expression:"visibleAddDetail"}],staticClass:"px-3 sm",attrs:{variant:"primary"},on:{click:t.addDomain}},[t._v(t._s(t.labels.new))])],1)])]),t._v(" "),i("b-row",[i("div",{staticClass:"form-group col-md-12"},[i("p",{staticClass:"grid-line"}),t._v(" "),t.listGridFlag?i("data-tables",{ref:"domainTable",attrs:{layout:"table, pagination","table-props":t.detailGrid.tableProps,data:t.detailGrid.data,filters:t.detailGrid.filters,"page-size":10,"pagination-props":t.detailGrid.pageProps}},[i("el-table-column",{attrs:{prop:"id",label:t.labels.id,width:"80"}}),t._v(" "),i("el-table-column",{attrs:{prop:"domainId",label:t.labels.domainId,width:"150"}}),t._v(" "),i("el-table-column",{attrs:{label:"KEY",width:"150"},scopedSlots:t._u([{key:"default",fn:function(e){return[e.row.hasOwnProperty("id")?i("span",[t._v(t._s(e.row.key))]):i("input",{directives:[{name:"model",rawName:"v-model",value:e.row.key,expression:"props.row.key"}],staticClass:"form-control formdata sm",staticStyle:{width:"100%"},attrs:{type:"text",maxlength:"20"},domProps:{value:e.row.key},on:{blur:function(a){return t.blurKey(e.row)},input:function(a){a.target.composing||t.$set(e.row,"key",a.target.value)}}})]}}],null,!1,3232290086)}),t._v(" "),i("el-table-column",{attrs:{label:"VALUE",width:"150"},scopedSlots:t._u([{key:"default",fn:function(e){return[i("input",{directives:[{name:"model",rawName:"v-model",value:e.row.value,expression:"props.row.value"}],staticClass:"form-control formdata sm",staticStyle:{width:"100%"},attrs:{type:"text",maxlength:"20"},domProps:{value:e.row.value},on:{change:function(a){return t.changeValue(e.row)},input:function(a){a.target.composing||t.$set(e.row,"value",a.target.value)}}})]}}],null,!1,3787543569)}),t._v(" "),i("el-table-column",{attrs:{prop:"seq",label:"SEQ",width:"80"},scopedSlots:t._u([{key:"default",fn:function(e){return[i("input",{directives:[{name:"model",rawName:"v-model",value:e.row.seq,expression:"props.row.seq"}],staticClass:"form-control formdata sm",staticStyle:{width:"100%"},attrs:{type:"text",maxlength:"20"},domProps:{value:e.row.seq},on:{change:function(a){return t.changeValue(e.row)},input:function(a){a.target.composing||t.$set(e.row,"seq",a.target.value)}}})]}}],null,!1,281145105)}),t._v(" "),i("el-table-column",{attrs:{label:t.labels.description,width:"*"},scopedSlots:t._u([{key:"default",fn:function(e){return[i("input",{directives:[{name:"model",rawName:"v-model",value:e.row.description,expression:"props.row.description"}],staticClass:"form-control formdata sm",staticStyle:{width:"100%"},attrs:{type:"text",maxlength:"20"},domProps:{value:e.row.description},on:{change:function(a){return t.changeValue(e.row)},input:function(a){a.target.composing||t.$set(e.row,"description",a.target.value)}}})]}}],null,!1,3330950353)}),t._v(" "),i("el-table-column",{attrs:{prop:"createDt",label:t.labels.createDt,width:"200"},scopedSlots:t._u([{key:"default",fn:function(e){return[t._v("\n                    "+t._s(t.$util.dateTimeWithTimeZone(e.row.createDt))+"\n                  ")]}}],null,!1,2623775918)}),t._v(" "),i("el-table-column",{attrs:{prop:"createId",label:t.labels.createId,width:"150"}}),t._v(" "),i("el-table-column",{attrs:{align:"right",width:"80"},scopedSlots:t._u([{key:"default",fn:function(e){return[i("el-button",{directives:[{name:"show",rawName:"v-show",value:t.visibleDelete,expression:"visibleDelete"}],staticStyle:{padding:"0",width:"30px",height:"30px"},attrs:{title:t.labels.delete},on:{click:function(a){return t.delDomain(e.$index,e.row)}}},[i("img",{attrs:{src:a("Z5mN"),width:"60%"}})])]}}],null,!1,1562599884)})],1):t._e()],1)]),t._v(" "),i("span",{staticClass:"dialog-footer",attrs:{slot:"footer"},slot:"footer"},[i("b-button",{directives:[{name:"show",rawName:"v-show",value:t.visibleSaveDetail,expression:"visibleSaveDetail"}],staticClass:"px-3 sm",attrs:{variant:"primary"},on:{click:t.save}},[t._v(t._s(t.labels.save))]),t._v(" "),i("b-button",{staticClass:"px-3 sm",attrs:{variant:"primary"},on:{click:t.closeDomainDialog}},[t._v(t._s(t.labels.close))])],1)],1)],1)],1)],1)],1)},staticRenderFns:[]},l=a("VU/8")(i,s,!1,null,null,null);e.default=l.exports}});
//# sourceMappingURL=17.9e42ce8066956a02e4ab.js.map